# Story 08-05: “思考过程”展示弹窗与渲染组件实现

> Epic: 消息气泡交互与快捷操作增强
> Priority: Medium
> Points: 3

## 概述
为包含思维链（Chain of Thought）的 AI 消息提供查看入口，通过模态弹窗展示详细的思考过程。

## 业务规则与技术限制
- **非持久化局限**：由于思维链数据（Reasoning/Thinking）目前未保存至后端数据库，仅在前端内存缓存（Store）中存在。
- **“最近”消息定义**：指当前页面加载后，通过 SSE 实时流式接收到的 AI 消息。
- **可见性失效**：一旦用户刷新页面或重新进入会话导致消息从后端加载，由于数据库不含思维链字段，该功能入口将自动隐藏。

## 用户故事

### US-1: 查看 AI 思考
**作为** 用户，
**我希望** 查看 AI 在回答问题前的思考过程，
**以便** 理解它是如何得出结论的，增加可解释性。

## 功能范围

### 包含
- 识别消息对象中是否包含 `reasoning` 或 `thinking` 字段。
- 若包含（且数据存在于前端缓存中），在菜单中显示“查看思考过程”选项。
- 实现一个模态弹窗（Modal/Dialog），支持 Markdown 渲染。
- 弹窗内容的展示。

### 不包含（后续迭代）
- 思考过程的流式实时展示（本 Story 针对已完成的消息查看历史思考）。
- 离线历史消息的思考过程查看（需后端持久化支持）。

## 验收标准

- [ ] AC-1: 只有当 AI 消息包含有效的 `reasoning` 数据（存在于内存中）时，菜单才显示“查看思考过程”。
- [ ] AC-2: 当 AI 消息不含该数据（如刷新后的历史消息）时，菜单隐藏此选项。
- [ ] AC-3: 点击选项弹出居中对话框，标题为“思考过程”。
- [ ] AC-4: 对话框内容区域正确渲染 Markdown 格式的思考文本。
- [ ] AC-5: 对于多气泡消息组，在任意气泡点击查看都能展示该逻辑消息的思考内容。

## 依赖关系

### 前置依赖
- Story 08-01: 菜单基础结构。
- Markdown 渲染组件。

### 被依赖（后续）
- 无
