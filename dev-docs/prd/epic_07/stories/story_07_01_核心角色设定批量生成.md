# Story 07-01: 核心角色设定批量生成

> Epic: 初始好友库构建与资源初始化
> Priority: High
> Points: 3

## 概述
读取已整理好的 `preset_friends_list.csv` 角色清单，利用已有的 `PersonaGeneratorService` 批量生成每个角色的深度人设（Prompt）和第一句招呼语。

## 用户故事

### US-1: CSV 角色数据加载
**作为** 系统开发者，
**我希望** 能够直接从 CSV 文件中读取人物姓名、简介和标签，
**以便于** 降低脚本解析逻辑的复杂性，确保输入源数据的结构化与准确性。

### US-2: 角色剧本自动化丰富
**作为** 系统开发者，
**我希望** 脚本能自动调用 LLM 为清单中的 118 个角色生成符合其背景设定的 `system_prompt` 和 `initial_message`，
**以便于** 确保每个 AI 好友在聊天开始时就有鲜明的个性和语调。

## 功能范围

### 包含
- 开发批量处理脚本 `batch_generate_personas.py`。
- 实现 CSV 文件读取逻辑。
- 调用后端生成服务并持久化生成的文本 JSON（保存至 `temp/generated_personas_text.json`）。
- 异常重试与执行断点保存（以应对长耗时人物生成）。

### 不包含
- 生成头像图片（由后续 Story 处理）。
- 最终 SQL 导出与集成。

## 验收标准

- [ ] AC-1: 成功从 CSV 文件中完整读取 118 个角色的元数据。
- [ ] AC-2: 生成的 `system_prompt` 必须成功对齐该角色的初始简介设定。
- [ ] AC-3: 脚本支持断点续传功能（读取已生成的 JSON，跳过已完成角色）。
- [ ] AC-4: 生成的文本数据输出为结构化的中间文件。

## 依赖关系

### 前置依赖
- 无（本项目核心逻辑已就绪）

### 被依赖（后续）
- Story 07-02: 视觉资产生成
- Story 07-03: SQL 集成与初始化
