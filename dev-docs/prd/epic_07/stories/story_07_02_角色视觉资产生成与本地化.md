# Story 07-02: 角色视觉资产生成与本地化

> Epic: 初始好友库构建与资源初始化
> Priority: High
> Points: 5

## 概述
基于 Story 07-01 生成的角色设定，批量调用生图 API 为每位角色生成高质量头像，并将其存储为应用内的本地静态文件，确保头像资产随安装包分发。

## 用户故事

### US-1: 视觉 Prompt 自动转换
**作为** 系统开发者，
**我希望** 脚本能根据角色的背景描述自动提炼出适合生图的 Midjourney/DALL-E 风格描述词，
**以便于** 生成与角色身份高度契合的头像。

### US-2: 静态资产本地化
**作为** 安装用户，
**我希望** 所有的预设头像都已经在我的电脑里，而不是在使用时才加载，
**以便于** 在断网时也能看到完整的好友库界面，且加载速度极快。

## 功能范围

### 包含
- 扩展批量处理脚本，增加生图 API 调用逻辑。
- 图片自动下载并保存至 `server/static/avatars/presets/`。
- 按统一风格（如“电影级写实肖像”）进行全局 Prompt 约束。
- 对图片进行拼音/英文 ID 重命名及尺寸优化。

### 不包含
- 用户自定义上传头像功能（已由 Epic-05 覆盖）。

## 验收标准

- [ ] AC-1: 为 126 个角色生成唯一的且视觉风格协调的头像。
- [ ] AC-2: 图片物理保存在指定源码目录，文件名与数据库引用匹配。
- [ ] AC-3: 图像质量通过抽样审核，符合对应人物的性别、年代与性格。
- [ ] AC-4: 处理图片单引号、特殊字符在文件名中的冲突问题。

## 依赖关系

### 前置依赖
- Story 07-01: 获取文字设定作为生图输入

### 被依赖（后续）
- Story 07-03: SQL 集成与初始化
