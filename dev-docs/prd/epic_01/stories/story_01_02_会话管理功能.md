# Story 01-02: 会话管理功能

> Epic: Epic-01 基础聊天界面
> Priority: High
> Points: 5

## 概述

实现完整的会话管理功能。当前侧边栏已有静态会话列表 UI，本 Story 将实现会话的新建、删除、切换和数据持久化（LocalStorage），使用户能够管理多个独立的对话。

## 用户故事

### US-1: 新建会话
**作为** 用户，
**我希望** 点击"新对话"按钮后创建一个新的空白会话，
**以便** 我可以开始一个全新的对话主题。

### US-2: 切换会话
**作为** 用户，
**我希望** 点击侧边栏中的历史会话后切换到该会话，
**以便** 我能够继续之前的对话。

### US-3: 删除会话
**作为** 用户，
**我希望** 能够删除不再需要的会话，
**以便** 保持会话列表整洁。

## 功能范围

### 包含
- 会话列表状态管理（Pinia Store）
- 新建会话功能
- 切换会话功能（加载对应的消息）
- 删除会话功能（带确认提示）
- 会话数据持久化到 LocalStorage
- 会话标题自动生成（取首条消息内容）

### 已实现（UI 层面）
- ✅ 侧边栏会话列表 UI（`Sidebar.vue` 中的静态 `chatHistory` 数组）
- ✅ 会话分组展示（"今天"、"更早"）
- ✅ "新对话" 按钮 UI
- ✅ 会话项样式（选中态、hover 态）
- ✅ 响应式侧边栏（PC 固定展示，移动端 overlay）

### 不包含（后续迭代）
- 会话搜索
- 会话重命名
- 会话分组/标签
- 服务端同步

## 验收标准

- [ ] AC-1: 点击"新对话"按钮创建新会话，聊天区域清空 *(按钮 UI 已有，逻辑待实现)*
- [ ] AC-2: 点击历史会话可切换，聊天区域显示对应的消息记录 *(列表 UI 已有，逻辑待实现)*
- [ ] AC-3: 右键或长按会话项可显示删除选项
- [ ] AC-4: 刷新页面后会话和消息数据保持不变（LocalStorage 持久化）
- [ ] AC-5: 新会话标题默认为"新对话"，发送首条消息后更新为消息内容摘要

## 依赖关系

### 前置依赖
- Story 01-01: 聊天界面核心功能（需要消息状态管理）

### 被依赖（后续）
- Story 01-03: 人格设置（会话与人格关联）

## 备注

- 当前 `Sidebar.vue` 中的 `chatHistory` 是静态数据，需要改造为从 Store 读取
- 需要设计 `Session` 和 `Message` 的数据结构
